import{c as F,r as v,u as Z,j as e}from"./index-o6bFHvLj.js";import{s as N,C as J,a as T,B as L}from"./supabase-fagYWzpQ.js";import{L as K}from"./index-BturGVvf.js";import{A as W}from"./alert-circle-DOA8E8do.js";import{M as G}from"./message-square-Ck29u9J6.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=F("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=F("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=F("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);let I=null,H=null;const V=async()=>{if(I&&H)return{placesService:I,autocompleteService:H};const d=new K({apiKey:"AIzaSyCWh1e1w6S7Y0MCt4yo_68kSUUsILnDM5E",version:"weekly",libraries:["places"]});try{await d.load();const n=new google.maps.Map(document.createElement("div"));return I=new google.maps.places.PlacesService(n),H=new google.maps.places.AutocompleteService,{placesService:I,autocompleteService:H}}catch(n){throw console.error("Error loading Google Places API:",n),n}},z=async(d,n={})=>{const{autocompleteService:h}=await V();if(!h||d.length<3)return[];try{return(await h.getPlacePredictions({input:d,componentRestrictions:n.componentRestrictions||{country:"IN"},types:n.types||["establishment"],locationBias:n.locationBias})).predictions}catch(s){return console.error("Error fetching place predictions:",s),[]}},B=async(d,n=["name","rating","user_ratings_total","formatted_address","formatted_phone_number","website","photos","place_id","geometry","types","reviews"])=>{const{placesService:h}=await V();if(!h)throw new Error("Places service not initialized");return new Promise((s,u)=>{h.getDetails({placeId:d,fields:n},(p,b)=>{b===google.maps.places.PlacesServiceStatus.OK&&p?s(p):u(new Error(`Place details request failed: ${b}`))})})},Q=(d,n)=>{const h={Mecca:{lat:21.422487,lng:39.826206},Madina:{lat:24.467428,lng:39.611471}},s=d.lat(),u=d.lng(),p=h[n].lat,b=h[n].lng,P=6371,D=(p-s)*Math.PI/180,w=(b-u)*Math.PI/180,_=Math.sin(D/2)*Math.sin(D/2)+Math.cos(s*Math.PI/180)*Math.cos(p*Math.PI/180)*Math.sin(w/2)*Math.sin(w/2),c=2*Math.atan2(Math.sqrt(_),Math.sqrt(1-_));return+(P*c).toFixed(2)},X=(d,n)=>{const h=["restaurant","parking","gym","spa","room_service","wifi","airport_shuttle"],s={restaurant:"Restaurant",parking:"Parking",gym:"Fitness Center",spa:"Spa",room_service:"Room Service",wifi:"WiFi",airport_shuttle:"Airport Shuttle"},u=d.filter(p=>h.includes(p)).map(p=>s[p]);return n>=4&&u.push("24/7 Front Desk","Concierge Service"),u},ee=d=>{const n=[];if(d&&Array.isArray(d))for(let h=0;h<Math.min(d.length,5);h++){const s=d[h];if(s&&typeof s.getUrl=="function")try{const u=s.getUrl();typeof u=="string"&&n.push(u)}catch(u){console.warn("Failed to get photo URL:",u)}}return n},ae=d=>{const n=[];return d&&Array.isArray(d)&&d.slice(0,5).forEach(s=>{s&&n.push({review:s.text||"",date:s.time?new Date(s.time*1e3).toISOString():new Date().toISOString(),name:s.author_name||"Anonymous",rating:s.rating||0})}),n},te=()=>{const[d,n]=v.useState(!1),[h,s]=v.useState(""),[u,p]=v.useState(null),b=async a=>{s("Processing operator...");try{const{data:r,error:i}=await N.from("ghu_operators").select("*").eq("name",a.name).eq("city",a.city).maybeSingle();if(i)throw i;if(r)return r;const l=await z(`${a.name} ${a.city}`,{types:["establishment"],componentRestrictions:{country:"IN"}});if(l.length===0)throw new Error(`No results found for operator: ${a.name} in ${a.city}`);const o=await B(l[0].place_id),{data:x,error:m}=await N.from("ghu_operators").select("*").eq("place_id",o.place_id).maybeSingle();if(m)throw m;if(x)return x;const f={city:a.city,name:o.name||a.name,rating:o.rating||0,review_count:o.user_ratings_total||0,address:o.formatted_address||"",phone:o.formatted_phone_number||"",website:o.website||"",place_id:o.place_id||"",photo_url:""},{data:j,error:y}=await N.from("ghu_operators").insert(f).select().single();if(y)throw y;return j}catch(r){throw console.error("Error processing operator:",r),new Error(`Failed to process operator: ${r instanceof Error?r.message:"Unknown error"}`)}},P=async a=>{s("Processing airline...");try{const{data:r,error:i}=await N.from("ghu_airlines").select("*").eq("name",a.name).eq("departure_city",a.departureCity).maybeSingle();if(i)throw i;if(r)return r;const l={name:a.name,departure_city:a.departureCity,logo_url:"",cabin_baggage:"7kg (1 bag)",checkin_baggage:"25kg",flight_time:"6:00",flight_type:"DIRECT"},{data:o,error:x}=await N.from("ghu_airlines").insert(l).select().single();if(x)throw x;return o}catch(r){throw console.error("Error processing airline:",r),new Error(`Failed to process airline: ${r instanceof Error?r.message:"Unknown error"}`)}},D=async(a,r)=>{var i;s(`Processing ${r} hotel...`);try{const{data:l,error:o}=await N.from("ghu_hotels").select("*").eq("name",a.name).eq("city",r).maybeSingle();if(o)throw o;if(l)return l;const x=await z(`${a.name} hotel in ${r}`,{types:["lodging"],componentRestrictions:{country:"SA"}});if(x.length===0)throw new Error(`No results found for hotel: ${a.name} in ${r}`);const m=await B(x[0].place_id),{data:f,error:j}=await N.from("ghu_hotels").select("*").eq("place_id",m.place_id).maybeSingle();if(j)throw j;if(f)return f;let y=0;(i=m.geometry)!=null&&i.location&&(y=Q(m.geometry.location,r));const O=Array.isArray(m.types)?m.types.filter(M=>typeof M=="string"):[],E=X(O,m.rating||0),C=ee(m.photos||[]),A=ae(m.reviews||[]),t={name:m.name||a.name,city:r,rating:typeof m.rating=="number"?m.rating:0,reviews_count:typeof m.user_ratings_total=="number"?m.user_ratings_total:0,distance_to_haram:y,images:C,amenities:E,place_id:m.place_id||"",user_review:A},{data:g,error:k}=await N.from("ghu_hotels").insert(t).select().single();if(k){if(k.code==="23505"){const{data:M,error:S}=await N.from("ghu_hotels").select("*").eq("place_id",m.place_id).single();if(S)throw S;return M}throw k}return g}catch(l){throw console.error(`Error processing ${r} hotel:`,l),new Error(`Failed to process ${r} hotel: ${l instanceof Error?l.message:"Unknown error"}`)}},w=a=>{if(a.includes(","))throw new Error(`Invalid date format: "${a}". Each pricing entry must have a single departure date in YYYY-MM-DD format.`);const r=new Date(a.trim());if(isNaN(r.getTime()))throw new Error(`Invalid date format: "${a}". Please use YYYY-MM-DD format.`);const i=r.getFullYear(),l=String(r.getMonth()+1).padStart(2,"0"),o=String(r.getDate()).padStart(2,"0");return`${i}-${l}-${o}`},_=a=>{if(typeof a=="string"){const i=a.trim();if(i.toLowerCase()==="not specified"||i.toLowerCase()==="n/a"||i===""||i.toLowerCase()==="null"||i.toLowerCase()==="undefined")throw new Error("Package duration is required. Please specify the number of days for the package.");const l=Number(i);if(isNaN(l))throw new Error(`Invalid duration format: "${a}". Duration must be a positive integer representing the number of days.`);a=l}const r=Number(a);if(isNaN(r))throw new Error(`Invalid duration: "${a}". Duration must be a positive integer representing the number of days.`);if(!Number.isInteger(r)||r<=0)throw new Error(`Invalid duration: "${a}". Duration must be a positive integer representing the number of days.`);return r};return{processPackageFromJSON:async a=>{n(!0),p(null);try{const r=await b(a.operator),i=await P(a.airline),l=await D(a.hotels.mecca,"Mecca"),o=await D(a.hotels.madina,"Madina");return{processedData:{operatorId:r.id,airlineId:i.id,meccaHotelId:l.id,madinaHotelId:o.id,packageData:{name:a.package.name,packageType:a.package.type,duration:a.package.duration,makkahDistanceMentioned:a.package.makkahDistanceMentioned,madinaDistanceMentioned:a.package.madinaDistanceMentioned,itinerary:a.package.itinerary,inclusions:a.inclusions},pricingData:a.pricing},details:{operator:r,airline:i,meccaHotel:l,madinaHotel:o}}}catch(r){const i=r instanceof Error?r.message:"Unknown error occurred";throw p(i),r}finally{n(!1),s("")}},createPackageAndPricing:async a=>{s("Creating package...");try{const r=_(a.packageData.duration),i={operator_id:a.operatorId,name:a.packageData.name,package_type:a.packageData.packageType.trim(),duration:r,airline_id:a.airlineId,mecca_hotel_id:a.meccaHotelId,madina_hotel_id:a.madinaHotelId,inclusions:a.packageData.inclusions};a.packageData.makkahDistanceMentioned&&(i.makkah_distance_mentioned=a.packageData.makkahDistanceMentioned),a.packageData.madinaDistanceMentioned&&(i.madina_distance_mentioned=a.packageData.madinaDistanceMentioned),a.packageData.itinerary&&(i.itinerary=a.packageData.itinerary);const{data:l,error:o}=await N.from("ghu_packages").insert(i).select().single();if(o)throw o;s("Creating pricing...");const x=a.pricingData.map(f=>{try{const j=w(f.departureDate);return{package_id:l.id,departure_date:j,sharing_price:f.sharingPrice,quad_price:f.quadPrice,triple_price:f.triplePrice,double_price:f.doublePrice,solo_price:f.soloPrice}}catch(j){throw new Error(`Error in pricing data: ${j instanceof Error?j.message:"Unknown error"}`)}}),{error:m}=await N.from("ghu_pricing").insert(x);if(m)throw m;return l.id}catch(r){throw console.error("Error creating package and pricing:",r),new Error(`Failed to create package: ${r instanceof Error?r.message:"Unknown error"}`)}},isProcessing:d,processingStep:h,error:u,setError:p}},re={operator:{name:"Al Haramain Tours",city:"Mumbai"},package:{name:"Premium Umrah Package 2024",type:"Premium",duration:14,makkahDistanceMentioned:"500 meters from Haram",madinaDistanceMentioned:"200 meters from Prophet's Mosque",itinerary:{day1:"Arrival in Makkah, check-in at hotel",day2:"Umrah performance, Tawaf and Sai",day3:"Ziyarat in Makkah",day4:"Travel to Madina",day5:"Visit Prophet's Mosque",day6:"Ziyarat in Madina",day7:"Return to Makkah",day8:"Final Umrah and departure"}},airline:{name:"Saudi Airlines",departureCity:"Mumbai"},hotels:{mecca:{name:"Hilton Suites Makkah"},madina:{name:"Anwar Al Madinah Movenpick"}},inclusions:{standard:["air ticket","umrah visa","insurance","hotel accommodation","food","transport"],special:["sim card","ziyarat taif"],custom:["private guide","luxury transport"]},pricing:[{departureDate:"2024-03-15",sharingPrice:85e3,quadPrice:95e3,triplePrice:105e3,doublePrice:125e3,soloPrice:18e4},{departureDate:"2024-04-10",sharingPrice:9e4,quadPrice:1e5,triplePrice:11e4,doublePrice:13e4,soloPrice:185e3},{departureDate:"2025-07-15",sharingPrice:95e3,quadPrice:105e3,triplePrice:115e3,doublePrice:135e3,soloPrice:19e4},{departureDate:"2025-09-20",sharingPrice:92e3,quadPrice:102e3,triplePrice:112e3,doublePrice:132e3,soloPrice:187e3}]},oe=()=>{var E,C,A;const d=Z(),{processPackageFromJSON:n,createPackageAndPricing:h,isProcessing:s,processingStep:u,error:p,setError:b}=te(),[P,D]=v.useState(JSON.stringify(re,null,2)),[w,_]=v.useState(null),[c,$]=v.useState(null),[a,r]=v.useState(null),[i,l]=v.useState(!1),[o,x]=v.useState(null),m=()=>{try{const t=JSON.parse(P);if(t.pricing&&Array.isArray(t.pricing))for(let g=0;g<t.pricing.length;g++){const k=t.pricing[g];if(k.departureDate&&typeof k.departureDate=="string"&&k.departureDate.includes(",")){b(`Invalid pricing entry at index ${g}: departureDate contains multiple dates "${k.departureDate}". Each pricing entry must have a single departure date in YYYY-MM-DD format. Please create separate pricing entries for each date.`);return}}_(t),b(null),x(null)}catch{b("Invalid JSON format. Please check your input.")}},f=async()=>{if(w)try{const t=await n(w);$(t.processedData),r(t.details),x("Data processed successfully! Review the details below.")}catch{}},j=async()=>{if(c){l(!0);try{const t=await h(c);x(`Package created successfully! Package ID: ${t}`),setTimeout(()=>{d("/packages")},2e3)}catch(t){b(t instanceof Error?t.message:"Failed to create package")}finally{l(!1)}}},y=(t,g)=>{if(!c)return;const k=t.split("."),M={...c};let S=M;for(let q=0;q<k.length-1;q++)S=S[k[q]];S[k[k.length-1]]=g,$(M)},O=t=>{try{const g=JSON.parse(t);y("packageData.itinerary",g)}catch{y("packageData.itinerary",t)}};return e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-black mb-2",children:"Add Package via Chat"}),e.jsx("p",{className:"text-black/60",children:"Paste your JSON data on the left, review and confirm details on the right"})]}),(p||o)&&e.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-start ${p?"bg-red-50 text-red-700":"bg-green-50 text-green-700"}`,children:[p?e.jsx(W,{className:"mr-2 mt-0.5 flex-shrink-0",size:20}):e.jsx(U,{className:"mr-2 mt-0.5 flex-shrink-0",size:20}),e.jsxs("div",{className:"flex-1",children:[p&&e.jsxs("div",{children:[e.jsx("div",{className:"font-medium mb-1",children:"Error:"}),e.jsx("div",{className:"text-sm",children:p}),p.includes("departureDate")&&e.jsxs("div",{className:"mt-2 text-xs bg-red-100 p-2 rounded border",children:[e.jsx("strong",{children:"Tip:"})," Each pricing entry should have one date. For multiple dates, create separate entries:",e.jsx("pre",{className:"mt-1 text-xs",children:`[
  {"departureDate": "2025-07-15", "sharingPrice": 85000, ...},
  {"departureDate": "2025-09-20", "sharingPrice": 90000, ...}
]`})]})]}),o&&o]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsx(J,{children:e.jsxs(T,{children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(G,{className:"mr-2 text-primary",size:24}),e.jsx("h2",{className:"text-xl font-semibold text-black",children:"JSON Input"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-2",children:"Package Data (JSON)"}),e.jsxs("div",{className:"mb-2 text-xs text-black/60 bg-blue-50 p-2 rounded",children:[e.jsx("strong",{children:"Important:"})," Each pricing entry must have a single departure date in YYYY-MM-DD format. For multiple dates, create separate pricing entries."]}),e.jsx("textarea",{value:P,onChange:t=>D(t.target.value),className:"w-full h-96 p-3 border rounded-lg bg-white focus:ring-2 focus:ring-primary focus:border-transparent font-mono text-sm",placeholder:"Paste your JSON data here..."})]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx(L,{onClick:m,disabled:!P.trim(),children:"Parse JSON"}),w&&e.jsx(L,{onClick:f,disabled:s,children:s?e.jsxs(e.Fragment,{children:[e.jsx(Y,{className:"mr-2 animate-spin",size:16}),u||"Processing..."]}):"Process Data"})]}),w&&e.jsx("div",{className:"mt-4 p-3 bg-green-50 rounded-lg",children:e.jsxs("div",{className:"flex items-center text-green-700",children:[e.jsx(U,{className:"mr-2",size:16}),e.jsx("span",{className:"text-sm font-medium",children:"JSON parsed successfully"})]})})]})]})}),e.jsx(J,{children:e.jsxs(T,{children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(R,{className:"mr-2 text-primary",size:24}),e.jsx("h2",{className:"text-xl font-semibold text-black",children:"Package Preview"})]}),c?e.jsxs("div",{className:"space-y-6",children:[(a==null?void 0:a.operator)&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-black mb-3",children:"Operator"}),e.jsxs("div",{className:"bg-gray p-4 rounded-lg space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-black/60",children:"Name:"}),e.jsx("span",{className:"font-medium",children:a.operator.name})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-black/60",children:"City:"}),e.jsx("span",{className:"font-medium",children:a.operator.city})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-black/60",children:"Rating:"}),e.jsxs("span",{className:"font-medium",children:[a.operator.rating,"/5"]})]}),a.operator.address&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-black/60",children:"Address:"}),e.jsx("span",{className:"font-medium text-right max-w-xs",children:a.operator.address})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-black mb-3",children:"Package"}),e.jsxs("div",{className:"bg-gray p-4 rounded-lg space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-black/60",children:"Name:"}),e.jsx("input",{type:"text",value:c.packageData.name,onChange:t=>y("packageData.name",t.target.value),className:"font-medium bg-white border rounded px-2 py-1 text-right"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-black/60",children:"Type:"}),e.jsxs("select",{value:c.packageData.packageType,onChange:t=>y("packageData.packageType",t.target.value),className:"font-medium bg-white border rounded px-2 py-1",children:[e.jsx("option",{value:"Economy",children:"Economy"}),e.jsx("option",{value:"Comfort",children:"Comfort"}),e.jsx("option",{value:"Premium",children:"Premium"})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-black/60",children:"Duration:"}),e.jsx("input",{type:"number",value:c.packageData.duration,onChange:t=>y("packageData.duration",parseInt(t.target.value)),className:"font-medium bg-white border rounded px-2 py-1 text-right w-20"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-black/60",children:"Makkah Distance:"}),e.jsx("input",{type:"text",value:c.packageData.makkahDistanceMentioned||"",onChange:t=>y("packageData.makkahDistanceMentioned",t.target.value),className:"font-medium bg-white border rounded px-2 py-1 text-right",placeholder:"e.g., 500m from Haram"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-black/60",children:"Madina Distance:"}),e.jsx("input",{type:"text",value:c.packageData.madinaDistanceMentioned||"",onChange:t=>y("packageData.madinaDistanceMentioned",t.target.value),className:"font-medium bg-white border rounded px-2 py-1 text-right",placeholder:"e.g., 200m from Mosque"})]})]})]}),c.packageData.itinerary&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-black mb-3",children:"Itinerary"}),e.jsxs("div",{className:"bg-gray p-4 rounded-lg",children:[e.jsx("textarea",{value:typeof c.packageData.itinerary=="string"?c.packageData.itinerary:JSON.stringify(c.packageData.itinerary,null,2),onChange:t=>O(t.target.value),className:"w-full h-32 p-2 bg-white border rounded font-mono text-sm",placeholder:"Enter itinerary as JSON object"}),e.jsxs("p",{className:"text-xs text-black/60 mt-1",children:["Enter as JSON object (e.g., ",'{"day1": "Arrival", "day2": "Umrah"}',")"]})]})]}),(a==null?void 0:a.airline)&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-black mb-3",children:"Airline"}),e.jsxs("div",{className:"bg-gray p-4 rounded-lg space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-black/60",children:"Name:"}),e.jsx("span",{className:"font-medium",children:a.airline.name})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-black/60",children:"Departure City:"}),e.jsx("span",{className:"font-medium",children:a.airline.departure_city})]})]})]}),(a==null?void 0:a.meccaHotel)&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-black mb-3",children:"Mecca Hotel"}),e.jsxs("div",{className:"bg-gray p-4 rounded-lg space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-black/60",children:"Name:"}),e.jsx("span",{className:"font-medium",children:a.meccaHotel.name})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-black/60",children:"Rating:"}),e.jsxs("span",{className:"font-medium",children:[a.meccaHotel.rating,"/5"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-black/60",children:"Distance to Haram:"}),e.jsxs("span",{className:"font-medium",children:[a.meccaHotel.distance_to_haram,"km"]})]}),c.packageData.makkahDistanceMentioned&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-black/60",children:"Operator Distance:"}),e.jsx("span",{className:"font-medium text-primary",children:c.packageData.makkahDistanceMentioned})]})]})]}),(a==null?void 0:a.madinaHotel)&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-black mb-3",children:"Madina Hotel"}),e.jsxs("div",{className:"bg-gray p-4 rounded-lg space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-black/60",children:"Name:"}),e.jsx("span",{className:"font-medium",children:a.madinaHotel.name})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-black/60",children:"Rating:"}),e.jsxs("span",{className:"font-medium",children:[a.madinaHotel.rating,"/5"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-black/60",children:"Distance to Haram:"}),e.jsxs("span",{className:"font-medium",children:[a.madinaHotel.distance_to_haram,"km"]})]}),c.packageData.madinaDistanceMentioned&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-black/60",children:"Operator Distance:"}),e.jsx("span",{className:"font-medium text-primary",children:c.packageData.madinaDistanceMentioned})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-black mb-3",children:"Inclusions"}),e.jsxs("div",{className:"bg-gray p-4 rounded-lg space-y-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-black/60",children:"Standard:"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:(((E=c.packageData.inclusions)==null?void 0:E.standard)||[]).map((t,g)=>e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs",children:t},g))})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-black/60",children:"Special:"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:(((C=c.packageData.inclusions)==null?void 0:C.special)||[]).map((t,g)=>e.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs",children:t},g))})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-black/60",children:"Custom:"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:(((A=c.packageData.inclusions)==null?void 0:A.custom)||[]).map((t,g)=>e.jsx("span",{className:"px-2 py-1 bg-amber-100 text-amber-800 rounded-full text-xs",children:t},g))})]})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-medium text-black mb-3",children:["Pricing (",(c.pricingData||[]).length," dates)"]}),e.jsx("div",{className:"bg-gray p-4 rounded-lg space-y-3",children:(c.pricingData||[]).map((t,g)=>e.jsxs("div",{className:"bg-white p-3 rounded border",children:[e.jsx("div",{className:"font-medium text-black mb-2",children:new Date(t.departureDate).toLocaleDateString()}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{children:["Sharing: ₹",(t.sharingPrice??0).toLocaleString()]}),e.jsxs("div",{children:["Quad: ₹",(t.quadPrice??0).toLocaleString()]}),e.jsxs("div",{children:["Triple: ₹",(t.triplePrice??0).toLocaleString()]}),e.jsxs("div",{children:["Double: ₹",(t.doublePrice??0).toLocaleString()]}),e.jsxs("div",{className:"col-span-2",children:["Solo: ₹",(t.soloPrice??0).toLocaleString()]})]})]},g))})]}),e.jsx("div",{className:"pt-6 border-t",children:e.jsx(L,{onClick:j,disabled:i,className:"w-full",children:i?e.jsxs(e.Fragment,{children:[e.jsx(Y,{className:"mr-2 animate-spin",size:16}),"Creating Package..."]}):"Create Package"})})]}):e.jsxs("div",{className:"text-center py-12 text-black/60",children:[e.jsx(R,{size:48,className:"mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:"Process JSON data to see package preview"})]})]})})]})]})})};export{oe as default};
