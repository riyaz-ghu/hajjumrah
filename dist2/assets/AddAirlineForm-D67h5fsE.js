import{u as h,r as o,j as e}from"./index-o6bFHvLj.js";import{C as p,a as b,B as c,s as x}from"./supabase-fagYWzpQ.js";const f=["Mumbai","Delhi","Bengaluru","Hyderabad","Chennai","Kolkata"],v=["Dubai","Abu Dhabi","Doha","Riyadh","Jeddah","Kuwait"],d=[{id:"custom",name:"Add Custom Airline",logoUrl:"",cabinBaggage:"",checkinBaggage:""},{id:"akasa",name:"Akasa Air",logoUrl:"https://upload.wikimedia.org/wikipedia/commons/thumb/6/69/Akasa_Air_logo.svg/2560px-Akasa_Air_logo.svg.png",cabinBaggage:"7kg (1 bag)",checkinBaggage:"30kg (2bagx15kg)"},{id:"air-india",name:"Air India",logoUrl:"https://upload.wikimedia.org/wikipedia/commons/thumb/b/bf/Air_India_2023.svg/2560px-Air_India_2023.svg.png",cabinBaggage:"7kg (1 bag)",checkinBaggage:"25kg (upto 35)"},{id:"indigo",name:"Indigo",logoUrl:"https://upload.wikimedia.org/wikipedia/commons/thumb/6/69/IndiGo_Airlines_logo.svg/2560px-IndiGo_Airlines_logo.svg.png",cabinBaggage:"7kg (1 bag)",checkinBaggage:"30kg (2bagx15kg)"},{id:"saudia",name:"Saudi Airlines",logoUrl:"https://upload.wikimedia.org/wikipedia/en/thumb/4/48/Logo_of_Saudia.svg/1200px-Logo_of_Saudia.svg.png",cabinBaggage:"7kg (1 bag)",checkinBaggage:"23kg (upto 2*23kg)"},{id:"emirates",name:"Emirates",logoUrl:"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d0/Emirates_logo.svg/2560px-Emirates_logo.svg.png",cabinBaggage:"7kg (1 bag)",checkinBaggage:"25kg (upto 35)"},{id:"etihad",name:"Etihad Airways",logoUrl:"https://upload.wikimedia.org/wikipedia/commons/thumb/0/0e/Etihad-airways-logo.svg/2560px-Etihad-airways-logo.svg.png",cabinBaggage:"7kg (1 bag)",checkinBaggage:"No (upto 30kg)"},{id:"flynas",name:"Flynas",logoUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS-AQ1Devzq04FKZd4K7j-952yrKI5uNuPiTQ&s",cabinBaggage:"7kg (1 bag)",checkinBaggage:"No (upto 30kg)"},{id:"kuwait",name:"Kuwait Airways",logoUrl:"https://upload.wikimedia.org/wikipedia/fr/a/a4/Kuwait_Airways_logo.png",cabinBaggage:"7kg (1 bag)",checkinBaggage:"23kg"}],k=()=>{const t=[];for(let l=4;l<=15;l++)t.push(`${l}:00`),l<15&&t.push(`${l}:30`);return t},y=k(),j=()=>{const t=[];for(let l=0;l<=5;l++)t.push(`${l}:00`),l<5&&t.push(`${l}:30`);return t},N=j(),T=()=>{const t=h(),[l,n]=o.useState(!1),[r,s]=o.useState({name:"",logoUrl:"",cabinBaggage:"",checkinBaggage:"",departureCity:"",flightTime:"",flightType:"DIRECT"}),u=a=>{if(a==="custom"){s(g=>({...g,name:"",logoUrl:"",cabinBaggage:"",checkinBaggage:""}));return}const i=d.find(g=>g.id===a);i&&s(g=>({...g,name:i.name,logoUrl:i.logoUrl,cabinBaggage:i.cabinBaggage,checkinBaggage:i.checkinBaggage}))},m=async a=>{a.preventDefault(),n(!0);try{const{error:i}=await x.from("ghu_airlines").insert({name:r.name,logo_url:r.logoUrl,cabin_baggage:r.cabinBaggage,checkin_baggage:r.checkinBaggage,departure_city:r.departureCity,flight_time:r.flightTime,flight_type:r.flightType,layover_time:r.layoverTime,layover_city:r.layoverCity});if(i)throw i;t("/airlines")}catch(i){console.error("Error saving airline:",i)}finally{n(!1)}};return e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx(p,{className:"max-w-2xl mx-auto",children:e.jsx(b,{children:e.jsxs("form",{onSubmit:m,className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-poppins font-semibold text-black mb-6",children:"Add New Airline"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-2",children:"Select Airline"}),e.jsxs("select",{onChange:a=>u(a.target.value),className:"w-full p-2 border rounded-lg bg-white focus:ring-2 focus:ring-primary focus:border-transparent",required:!0,children:[e.jsx("option",{value:"",children:"Select an airline"}),d.map(a=>e.jsx("option",{value:a.id,children:a.name},a.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-2",children:"Airline Name"}),e.jsx("input",{type:"text",value:r.name,onChange:a=>s(i=>({...i,name:a.target.value})),className:"w-full p-2 border rounded-lg bg-white focus:ring-2 focus:ring-primary focus:border-transparent",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-2",children:"Logo URL"}),e.jsx("input",{type:"url",value:r.logoUrl,onChange:a=>s(i=>({...i,logoUrl:a.target.value})),className:"w-full p-2 border rounded-lg bg-white focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Enter logo URL"}),r.logoUrl&&e.jsx("div",{className:"mt-2",children:e.jsx("img",{src:r.logoUrl,alt:r.name,className:"h-12 w-12 object-contain"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-2",children:"Cabin Baggage"}),e.jsx("input",{type:"text",value:r.cabinBaggage,onChange:a=>s(i=>({...i,cabinBaggage:a.target.value})),className:"w-full p-2 border rounded-lg bg-white focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"e.g., 7kg (1 bag)",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-2",children:"Check-in Baggage"}),e.jsx("input",{type:"text",value:r.checkinBaggage,onChange:a=>s(i=>({...i,checkinBaggage:a.target.value})),className:"w-full p-2 border rounded-lg bg-white focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"e.g., 25kg",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-2",children:"Departure City"}),e.jsxs("select",{value:r.departureCity,onChange:a=>s(i=>({...i,departureCity:a.target.value})),className:"w-full p-2 border rounded-lg bg-white focus:ring-2 focus:ring-primary focus:border-transparent",required:!0,children:[e.jsx("option",{value:"",children:"Select City"}),f.map(a=>e.jsx("option",{value:a,children:a},a))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-2",children:"Flight Time"}),e.jsxs("select",{value:r.flightTime,onChange:a=>s(i=>({...i,flightTime:a.target.value})),className:"w-full p-2 border rounded-lg bg-white focus:ring-2 focus:ring-primary focus:border-transparent",required:!0,children:[e.jsx("option",{value:"",children:"Select Flight Time"}),y.map(a=>e.jsxs("option",{value:a,children:[a," hours"]},a))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-2",children:"Flight Type"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"flightType",value:"DIRECT",checked:r.flightType==="DIRECT",onChange:a=>s(i=>({...i,flightType:a.target.value,layoverTime:void 0,layoverCity:void 0})),className:"sr-only"}),e.jsx("span",{className:`
                    px-4 py-2 rounded-lg cursor-pointer
                    ${r.flightType==="DIRECT"?"bg-primary text-white":"bg-white border hover:bg-gray"}
                  `,children:"Direct"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"flightType",value:"CONNECTING",checked:r.flightType==="CONNECTING",onChange:a=>s(i=>({...i,flightType:a.target.value})),className:"sr-only"}),e.jsx("span",{className:`
                    px-4 py-2 rounded-lg cursor-pointer
                    ${r.flightType==="CONNECTING"?"bg-primary text-white":"bg-white border hover:bg-gray"}
                  `,children:"Connecting"})]})]})]}),r.flightType==="CONNECTING"&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-2",children:"Layover Time"}),e.jsxs("select",{value:r.layoverTime,onChange:a=>s(i=>({...i,layoverTime:a.target.value})),className:"w-full p-2 border rounded-lg bg-white focus:ring-2 focus:ring-primary focus:border-transparent",required:!0,children:[e.jsx("option",{value:"",children:"Select Layover Time"}),N.map(a=>e.jsxs("option",{value:a,children:[a," hours"]},a))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-2",children:"Layover City"}),e.jsxs("select",{value:r.layoverCity,onChange:a=>s(i=>({...i,layoverCity:a.target.value})),className:"w-full p-2 border rounded-lg bg-white focus:ring-2 focus:ring-primary focus:border-transparent",required:!0,children:[e.jsx("option",{value:"",children:"Select Layover City"}),v.map(a=>e.jsx("option",{value:a,children:a},a))]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-6",children:[e.jsx(c,{variant:"outline",onClick:()=>t("/airlines"),disabled:l,children:"Cancel"}),e.jsx(c,{type:"submit",disabled:l,children:l?"Saving...":"Save Airline"})]})]})})})})};export{T as default};
